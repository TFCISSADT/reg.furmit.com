(window.webpackJsonp=window.webpackJsonp||[]).push([[79,7,25],{374:function(e,t,r){"use strict";r.r(t);var n=r(137),o=r.n(n),c={props:{type:{type:String,default:"primary"},disabled:{type:Boolean,default:!1}},computed:{computedStyle:function(){return{background:o.a[this.type].background,color:o.a[this.type].color}}},mounted:function(){this.button=this.$refs.button}},l=r(20),component=Object(l.a)(c,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"position:relative"},[t("button",{ref:"button",staticClass:"b:0 p:8|16 w:100% border-radius:4 cursor:pointer transform:translateY(-2):hover transition:0.2s",style:e.computedStyle,on:{click:function(t){return t.preventDefault(),e.$emit("click")}}},[e._t("default")],2),e._v(" "),e.disabled?t("div",{staticClass:"position:absolute top:0 left:0 w:100% h:100% background:rgba(0,0,0,0.4)"}):e._e()])}),[],!1,null,null,null);t.default=component.exports;installComponents(component,{Button:r(374).default})},380:function(e,t,r){"use strict";r.r(t);var n=r(137),o=r.n(n),c={props:{field:{type:String,default:""},value:{default:""},error:{default:null},required:{type:Boolean,default:!1}},data:function(){return{COLORS:o.a}},computed:{computedStyle:function(){return this.error&&0!=this.error.length?{border:"1px solid #f44336"}:{}}}},l=r(20),component=Object(l.a)(c,(function(){var e=this,t=e._self._c;return t("div",[e.field?t("div",{staticClass:"my:8 font-weight:bold font-color:gray font-size:1rem"},[e._v("\n    "+e._s(e.field)+" :\n  ")]):e._e(),e._v(" "),t("select",{style:e.computedStyle,attrs:{required:e.required},domProps:{value:e.value},on:{change:function(t){return e.$emit("input",t.target.value)}}},[e._t("default")],2)])}),[],!1,null,null,null);t.default=component.exports;installComponents(component,{Select:r(380).default})},414:function(e,t,r){var content=r(446);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(62).default)("52f006a9",content,!0,{sourceMap:!1})},445:function(e,t,r){"use strict";r(414)},446:function(e,t,r){var n=r(61)(!1);n.push([e.i,"body[data-v-5ae2fb7e]{overflow:hidden}.furmit-furstars-stage-vote[data-v-5ae2fb7e]{overflow:hidden;background:url(/assets/furstars/bg_circle.gif);background-color:hsla(0,0%,100%,.5);background-blend-mode:color;background-position:50%;background-size:auto max(150vh,150vw)}.furmit-furstars-stage-vote[data-v-5ae2fb7e],.furmit-furstars-stage-vote .bg-bars[data-v-5ae2fb7e]{width:100%;height:100vh;display:flex;flex-direction:column;align-items:center;justify-content:center}.furmit-furstars-stage-vote .bg-bars[data-v-5ae2fb7e]{grid-gap:16px;gap:16px}.furmit-furstars-stage-vote .title[data-v-5ae2fb7e]{width:75%;z-index:1;min-width:256px}.score_box[data-v-5ae2fb7e]{width:50%;text-align:center}.score_box.black[data-v-5ae2fb7e]{animation:bouncing_white-5ae2fb7e 3s ease-out infinite}.score_box.red[data-v-5ae2fb7e]{animation:bouncing-5ae2fb7e 3s ease-out infinite}.scores.voted .score_box[data-v-5ae2fb7e]:not(.voted){display:none}.scores.voted .score_box.voted[data-v-5ae2fb7e]{width:50%}.scores[data-v-5ae2fb7e]{display:flex;flex-direction:row;align-items:center;justify-content:center;width:100%;grid-gap:calc(max(16px, 1vw));gap:calc(max(16px, 1vw));box-sizing:border-box;min-height:40vh}.scores img[data-v-5ae2fb7e]{width:80%;max-width:360px}.scene-voting .title[data-v-5ae2fb7e]{width:25%}.scene-voting.furmit-furstars-stage-vote[data-v-5ae2fb7e]{justify-content:space-around}.actions[data-v-5ae2fb7e]{position:absolute;top:0;right:50%;display:flex;flex-direction:row;word-break:keep-all;z-index:10}.text_callout[data-v-5ae2fb7e]{width:100%;max-width:600px}.bg-dots[data-v-5ae2fb7e]{background:url(/assets/furstars/bg_dots.png);width:100%;height:100%}.bg-circle[data-v-5ae2fb7e],.bg-dots[data-v-5ae2fb7e]{pointer-events:none;position:absolute}.bg-circle[data-v-5ae2fb7e]{margin:auto}.bg-teams[data-v-5ae2fb7e]{background:linear-gradient(75deg,#c43737 50%,#c43737 0,#232326 0,#232326 50%);z-index:1}.status-icons[data-v-5ae2fb7e]{display:flex;flex-direction:row;pointer-events:none;position:absolute;right:8px;top:8px}@keyframes bouncing-5ae2fb7e{0%{filter:drop-shadow(0 0 0 black)}50%{filter:drop-shadow(0 8px 8px black)}to{filter:drop-shadow(0 0 0 black)}}@keyframes bouncing_white-5ae2fb7e{0%{filter:drop-shadow(0 0 0 white)}50%{filter:drop-shadow(0 8px 8px white)}to{filter:drop-shadow(0 0 0 white)}}@keyframes shake-5ae2fb7e{0%,to{transform:translate(0) rotate(0);opacity:1}25%{transform:translate(-2.5px,-2.5px) rotate(-1.52deg);opacity:.95}40%{transform:translate(-2.5px,2.5px) rotate(2.5deg);opacity:1}50%{transform:translate(2.5px,2.5px) rotate(-1.75deg);opacity:.95}60%{transform:translate(0) rotate(5deg);opacity:1}75%{transform:translate(2.5px,-2.5px) rotate(2.5deg);opacity:.7}}",""]),e.exports=n},540:function(e,t,r){"use strict";r.r(t);r(50),r(38),r(11);var n=r(3),o=(r(26),r(68),r(41),{name:"page-furstars-vote",layout:"furstars",data:function(){return{update_interval:null,scene:"",redSide:null,blackSide:null,voted:null,stage:1,debug:localStorage.getItem("debuggggg"),loading:!0,error:!1}},mounted:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$axios.get("/api/me").then((function(){})).catch((function(t){e.$router.push(e.localePath("/"))}));case 2:e.intervalCallback(),e.update_interval=setInterval(e.intervalCallback,3333);case 4:case"end":return t.stop()}}),t)})))()},destroyed:function(){clearInterval(this.update_interval)},computed:{loadingColor:function(){return this.loading?"yellow":this.error?"red":"green"}},methods:{API_Status:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$axios.get("/api/furmit/furstars");case 2:return t.abrupt("return",t.sent.data);case 3:case"end":return t.stop()}}),t)})))()},API_Vote:function(e){var t=this;return Object(n.a)(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.$axios.post("/api/furmit/furstars",{mit_furstars_team_id:e}).data;case 2:return r.abrupt("return",r.sent);case 3:case"end":return r.stop()}}),r)})))()},vote:function(e){var t=this;return Object(n.a)(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!t.voted){r.next=2;break}return r.abrupt("return",alert("本回合已投票過.\nYou have voted this round."));case 2:if(!confirm("是否投給：".concat("red"===e?"紅隊":"黑隊","？\nVote for ").concat("red"===e?"Red Team":"Black Team","?"))){r.next=14;break}return t.loading=!0,r.prev=4,r.next=7,t.API_Vote("red"===e?t.redSide.id:t.blackSide.id);case 7:t.voted=e,t.error=!1,r.next=14;break;case 11:r.prev=11,r.t0=r.catch(4),t.error=!0;case 14:case"end":return r.stop()}}),r,null,[[4,11]])})))()},intervalCallback:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e.loading=!0,t.next=4,e.API_Status();case 4:if(null!=(r=t.sent)&&r.success){t.next=7;break}return t.abrupt("return");case 7:e.scene!=="scene-".concat(r.status.scene)&&(e.voted=null),e.stage=r.status.stage||1,e.scene="scene-".concat(r.status.scene),e.redSide=r.status.redSide,e.blackSide=r.status.blackSide,e.error=!1,t.next=18;break;case 15:t.prev=15,t.t0=t.catch(0),e.error=!0;case 18:return t.prev=18,e.loading=!1,t.finish(18);case 21:case"end":return t.stop()}}),t,null,[[0,15,18,21]])})))()}}}),c=(r(445),r(20)),component=Object(c.a)(o,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"furmit-furstars-stage-vote",class:e.scene+" stage_".concat(e.stage)},[t("div",{staticClass:"bg-dots"}),e._v(" "),t("div",{staticClass:"status-icons"},[t("i",{staticClass:"mdi",class:e.error?"mdi-sync-alert":"mdi-sync",style:"color:"+e.loadingColor+";font-size:32px"})]),e._v(" "),t("img",{staticClass:"title",attrs:{alt:"title",src:"/assets/furstars/title.gif"}}),e._v(" "),"scene-voting"===e.scene?t("div",{staticClass:"scores bg-teams",class:e.voted?"voted":""},[t("div",{staticClass:"score_box red",class:"red"===e.voted?"voted":"",on:{click:function(t){return e.vote("red")}}},[t("img",{staticClass:"mark",attrs:{alt:"red-team",src:"/assets/furstars/mark_red_solid.gif"}}),e._v(" "),t("img",{staticClass:"team-name",attrs:{src:"/assets/furstars/teams/".concat(e.stage,"_red.png"),alt:"furstar-team-red"}})]),e._v(" "),t("div",{staticClass:"score_box black",class:"black"===e.voted?"voted":"",on:{click:function(t){return e.vote("black")}}},[t("img",{staticClass:"mark",attrs:{alt:"black-team",src:"/assets/furstars/mark_black_solid.gif"}}),e._v(" "),t("img",{staticClass:"team-name",attrs:{src:"/assets/furstars/teams/".concat(e.stage,"_black.png"),alt:"furstar-team-black"}})])]):e._e(),e._v(" "),"scene-voting"!==e.scene||e.voted?e._e():t("img",{staticClass:"text_callout",attrs:{alt:"Vote for your favorite team!",src:"/assets/furstars/text_click.png"}}),e._v(" "),"守逸讚"===e.debug?t("div",{staticClass:"actions"},[t("select",{directives:[{name:"model",rawName:"v-model",value:e.scene,expression:"scene"}],on:{change:function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.scene=t.target.multiple?r:r[0]}}},e._l(["scene-lobby","scene-voting"],(function(r){return t("option",{domProps:{value:r}},[e._v("\n                "+e._s(r)+"\n            ")])})),0),e._v(" "),t("select",{directives:[{name:"model",rawName:"v-model",value:e.stage,expression:"stage"}],on:{change:function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.stage=t.target.multiple?r:r[0]}}},e._l(new Array(13),(function(r,n){return t("option",{domProps:{value:n+1}},[e._v("\n                Stage "+e._s(n+1)+"\n            ")])})),0),e._v(" "),t("button",{on:{click:function(t){e.voted=null}}},[e._v("Clear")])]):e._e()])}),[],!1,null,"5ae2fb7e",null);t.default=component.exports;installComponents(component,{Select:r(380).default,Button:r(374).default})}}]);